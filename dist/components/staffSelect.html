<template id="staffSelect">
    <div class="staff-select-wrap">
        <select v-selectstaff multiple="multiple" v-if="multiple == 'true'" :id="id" :disabled="idDisabled">
            <option v-for="staff in staffs" :data-img="staff.img" :value="staff.id">{{staff.value}}</option>
            <!--<option data-img="img/head-list.png" data-manage="true">艾云鹤1</option>-->
            <!--<option data-img="img/head-list.png" data-manage="false">艾云鹤21</option>-->
            <!--<option data-img="img/head-list.png" data-manage="false">艾云鹤31</option>-->
            <!--<option data-img="img/head-list.png" data-manage="false">艾云鹤41</option>-->
            <!--<option data-img="img/head-list.png" data-manage="false">艾云鹤51</option>-->
            <!--<option data-img="img/head-list.png" data-manage="false">艾云鹤61</option>-->
        </select>
        <select v-selectstaff v-else :id="id" :disabled="idDisabled">
            <option v-for="staff in staffs" :data-img="staff.img" :value="staff.id">{{staff.value}}</option>
            <!--<option data-img="img/head-list.png" data-manage="true">艾云鹤1</option>-->
            <!--<option data-img="img/head-list.png" data-manage="false">艾云鹤21</option>-->
            <!--<option data-img="img/head-list.png" data-manage="false">艾云鹤31</option>-->
            <!--<option data-img="img/head-list.png" data-manage="false">艾云鹤41</option>-->
            <!--<option data-img="img/head-list.png" data-manage="false">艾云鹤51</option>-->
            <!--<option data-img="img/head-list.png" data-manage="false">艾云鹤61</option>-->
        </select>
    </div>
</template>
<script>

    var staffSelect = Vue.extend({
        template: '#staffSelect',
        props: ["multiple", 'id', 'disabled'],
        data: function () {
            return {
                staffs: [],
                idDisabled: false
            }
        },
        methods: {
            changeDisabled: function (disabled) {
                this.$data.idDisabled = disabled;
            }
        },
        created: function () {
            var url = "json/staffList.json";
            this.$http.get(url).then(function (data) {
                var json = JSON.parse(data.bodyText);
                console.log(json);
                this.$data.staffs = json;
            }, function (response) {
                console.info(response);
            });

            if (this.$props.disabled == 'disabled') {
                this.$data.idDisabled = true;
            }
            //
        },
        directives: {
            selectstaff:
                {
                    update: function (el) {
                        console.log(el);
                        //                        $(el).select2();
                        //                        selectStaff(el);
                        staffSelect(el);
                    }
                }
        }
    });
    Vue.component('staffSelect', staffSelect);
</script>