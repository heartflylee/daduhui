<template id="customer-head">
    <div class="small-nav-wrap">
        <div class="nav-box">
            <div class="index-select">
                <div class="select-show">
                    <label>{{(type == '' || type== 'all')?'全部客户':'我负责的客户'}}</label>
                    <i class="t-arrow icon"></i>
                </div>
                <div class="select-wrap">
                    <div class="date-select-box">
                        <ul>
                            <li class="date-select" :class="(type==''||type=='all')?'selected':''"  @click="typeChange($event,'all')">
                                全部客户
                            </li>
                            <li class="date-select" :class="(type=='mine')?'selected':''" @click="typeChange($event,'mine')">
                                我负责的客户
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="nav-right">
                <div class="export">
                    <i class="icon-export icon"></i> 导出
                </div>
                <div class="drop-button dropdown">
                    <label class="drop-name" @click="customerAdd">新建客户</label>
                    <i class="icon icon-drop-button" data-toggle="dropdown"></i>
                    <div class="dropdown-menu dropdown-box">
                        <a class="dropli" href="javascript:void(0);" @click="exportBtn">
                            <label>导入客户</label>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="table-setting" v-if="">
            <div class="table-nav-right">
                <i class="table-nav-close icon" onclick="settingHide()">&times;</i>
            </div>
            <div class="table-nav-list">
                <ul>
                    <li class="table-nav">
                        已选中
                        <label class="count-select">1</label>项
                    </li>
                    <li class="table-nav" @click="change">
                        <i class="table-icon icon-change icon"></i>
                        <div class="table-nav-main">变更负责人</div>
                    </li>
                    <li class="table-nav">
                        <i class="table-icon icon-delete icon"></i>
                        <div class="table-nav-main">删除</div>
                    </li>
                    <li class="table-nav" @click="taskAdd">
                        <i class="table-icon icon-call icon"></i>
                        <div class="table-nav-main">电话任务</div>
                    </li>
                    <li class="table-nav" @click="taskmessageAdd">
                        <i class="table-icon icon-message icon"></i>
                        <div class="table-nav-main">短信任务</div>
                    </li>
                    <li class="table-nav" @click="taskemailAdd">
                        <i class="table-icon icon-email icon"></i>
                        <div class="table-nav-main">邮件任务</div>
                    </li>
                </ul>
            </div>
        </div>
    </div>

</template>
<script>
    var customerHead = Vue.extend({
        template: '#customer-head',
        props:['type'],
        data: function () {
            return {

            }
        },
        methods: {
            customerAdd: function () {
                this.$emit('layer', 'customerAdd');
            },
            change: function () {
                this.$emit('layer', 'changeContact');

            },
            taskAdd: function () {
                this.$emit('layer', 'taskAdd');
            },
            taskemailAdd: function () {
                this.$emit('layer', 'taskemailAdd');

            },
            taskmessageAdd: function () {
                this.$emit('layer', 'taskmessageAdd');

            },
            exportBtn: function () {
                this.$emit('layer', 'export');
            },
            typeChange:function(event,type){
                this.$emit('typechange', type);
                $(event.target).parents('.index-select').removeClass('active');

            }
        }
    });
    Vue.component('customerHead', customerHead);
</script>